<!DOCTYPE html>
<html>
<head>
  <!--        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"-->
  <!--        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="-->
  <!--        crossorigin=""/>-->
  <!--        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"-->
  <!--        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="-->
  <!--        crossorigin=""></script>-->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/heatmap.js/2.0.2/heatmap.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet-heatmap@1.0.0/leaflet-heatmap.min.js"></script>
  <script src="https://unpkg.com/leaflet-geometryutil@0.13.1/leaflet.geometryutil.min.js"></script>

  <style>
    #map { width: 900px; height: 800px; }
  </style>
</head>
<body>

<div id="map"></div>

V
<!-- <script src="../fill_hex.js"></script>
<script src="../gaussian.js"></script> -->
<script src="../heatmap_smoke.js"></script>
<script>
    let startLat = 35.1188093910081;
    let startLng = 128.96808496718;
    let factory = {
      latitude : 35.1188093910081,
      longitude : 128.96808496718,
      SOx : 100,
      PM10 : 50,
      NOx : 150
    };
    let particle_type = 'SOx';
    let wind = {
      direction : 350,
      speed : 3.5
    };
    // 맵과 히트맵 레이어 초기화
    var map = L.map('map', {
        center: [startLat, startLng],
        zoom: 14,
    });

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    // 하나의 공장에서 나오는 매연을 히트맵으로 표현
    map = addSmokeHeatmap_single(map, factory, particle_type, wind);

</script>
</body>
</html>
